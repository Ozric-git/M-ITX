/*! GeniusUI v0.9.9k
 *  MARS FLAG Corporation. All rights reserved.
 *  Build 2019-06-17 06:07:58
*/
window.GALFSRAM2=window.GALFSRAM2||{},GALFSRAM2.i18n=GALFSRAM2.i18n||{},GALFSRAM2.i18n.messages={Search:{en:"Search",ja:"検索",zh:"搜索",zh_TW:"Search",ko:"검색",th:"ค้นหา",hi:"Search",ms:"Search",tl:"Search",id:"Search",vi:"Search"},Options:{en:"Options",ja:"オプション",zh:"Options",th:"Options"},"in attrs":{en:"attribute",ja:"属性内",zh:"attribute",th:"attribute"},"num matches":{en:"matches.",ja:"箇所",zh:"matches.",th:"matches."},"following matches":{en:"It is matching in the following non-display area.",ja:"次の非表示エリアにマッチしています。",zh:"相符非显示区域的以下内容。",th:"It is matching in the following non-display area."}},function(a,b,c){if(a&&(b=a.jQuery)){var d=2048&a.DEBUG,e=(a.error,a.err),f=a.warn,g=a.log,h=a.info,i=(a.debug,a.get_origin);a.get_hash_form_querystring;MFMessage=function(a){this._create(),this._init(a)},MFMessage.prototype={options:{target_window:null,target_url:"",source_origin:"",allow_all_target_window:!1,allow_all_source_origin:!1,delay:100,url_length_limit:4095},_create:function(){},procReceiveMessage:null,_init:function(a){if(a=a||{},this.options.target_url=a.target_url||document.referrer||"",this.options.target_window=a.target_window||window.parent,this.options.source_origin=a.source_origin||i(this.options.target_url),this.options.delay=a.delay===c?100:a.delay,this.options.allow_all_target_window=a.allow_all_target_window===c?!1:a.allow_all_target_window,this.options.allow_all_source_origin=a.allow_all_source_origin===c?!1:a.allow_all_source_origin,d){var j=top==self?">>>":"<<<";h(j+" ====================  "),h(j+"  target origin: "+i(this.options.target_url)),h(j+"  source origin: "+this.options.source_origin),h(j+"      my origin: "+i(location.href)+"  "+(top==self?"(TOP)":"(iframe)")),h(j+" ====================  ")}var k=this;this.procReceiveMessage=function(a){function c(a,b){return"function"!=typeof j[a]?(d&&e("@@@ Message: '"+a+"' was not registerd."),!1):1==arguments.length?(j[a](),d&&g("　◆→  Received:【"+a+"】"),!0):(j[a](b),d&&g("　◆→  Received:【"+a+" ("+String(b).substr(0,100)+"...)】"),!0)}if(a=a||{},(!b.supportPostMessage||a.origin==k.options.source_origin||(d&&f("@@@ Source origin not matched: "+a.origin),k.options.allow_all_source_origin))&&(!b.supportPostMessage||a.source==k.options.target_window||(d&&f("@@@ Source window not matched.",a.source),k.options.allow_all_target_window))){var h=String(a.data);if(!h.match(/^\{.*\}$/)&&!h.match(/^\[.*\]$/))return void(d&&e("@@@ Invalid message data: ("+h.length+") "+h));var i;try{i=JSON.parse(h)}catch(a){return void(d&&e("@@@ Failed to parse: "+h))}var j=k.callbacks;if("string"==typeof i)c(i);else if(i instanceof Array)for(var l=0;l<i.length;l++)c(i[l]);else if("object"==typeof i)for(var m in i)c(m,i[m]);else d&&e("@@@ Unknown: "+i)}},this.setup()},setup:function(){d&&g("◆　　 Message.setup()"),b.receiveMessage(),b.receiveMessage(this.procReceiveMessage,this.options.source_origin,this.options.delay)},destroy:function(){this.reset()},reset:function(){clearTimeout(this.tiQueue),this.tiQueue=null,this.queueList=[],b.receiveMessage(),this.unregist()},setSourceOrigin:function(a){a=a||"",this.options.source_origin=i(a),d&&g("　◆　 Message.setSourceOrigin( "+a+" )"),this.setup()},setTargetURL:function(a){a=a||"*",this.options.target_url=a,d&&g("　　◆ Message.setTargetURL( "+a+" )")},setTarget:function(a,b){a=a||"*",this.options.target_url=a,this.options.target_window=b||null,d&&g("　　◆ Message.setTarget( "+a+" )")},post:function(a,f,h){if(!this.options.target_window)return d&&e("@@@ No target frame. (message: "+JSON.stringify(a)+")"),!1;if(!h&&!b.supportPostMessage&&(this.lastPostTime+this.options.delay>+new Date||this.queueList.length)){if(this.queueList.push([a,f]),!this.tiQueue){var i=this;this.tiQueue=setTimeout(function(){i.dequeue.call(i)},this.lastPostTime+this.options.delay-+new Date)}return!0}var j=a;return"object"!=typeof a&&(j={},j[a]=arguments[1]===c?null:arguments[1]),j=JSON.stringify(j),d&&g("←◆◇ Post: ("+j.length+")【"+j.substr(0,100)+"...】"),!b.supportPostMessage&&j.length+this.options.target_url.length>this.options.url_length_limit?(d&&e("@@@ Too long message size."),!1):(b.postMessage(j||"",this.options.target_url,this.options.target_window),this.lastPostTime=+new Date,!0)},lastPostTime:0,tiQueue:null,queueList:[],dequeue:function(){var a=this.queueList.shift();if(this.post(a[0],a[1],!0),this.queueList.length){var b=this;this.tiQueue=setTimeout(function(){b.dequeue.call(b)},this.options.delay)}else this.tiQueue=null},callbacks:{},regist:function(a){var c=this;b.each(a,function(a,b){c.callbacks[a]=b})},unregist:function(a){if(!a)return void(this.callbacks={});var d=this;"object"!=typeof a&&(a=[a]),b.each(a,function(a,b){d.callbacks[b]!==c&&delete d.callbacks[b]})},removeUrlMessage:function(a){return a=a||location.href,a.replace(/(?:#mess_time=|(#.*?)&mess_time=).*$/,"$1")},"":""}}}(window.GALFSRAM2),function(a,b,c,d){if(a&&(b=a.jQuery)&&(c=a.Conf)){var e=256&a.DEBUG,f=(a.error,a.err),g=a.warn,h=a.log,i=a.info,j=(a.debug,a.IE),k=a.browser,l=(k.IE_IS8,k.IE_IS9),m=a.KEY;MFLayerBar=function(a){this.$element=this._create(a),this._init(a)},MFLayerBar.prototype={$element:null,OWNER:null,_create:function(a){return e&&h("@@@ BAR._create( "+a+" )"),"frame"==a?(this.noElement=!0,b('<div style="display:none"></div>')):b('<div class="mf_navigation-bar press-owner mf_hidden"><div		class="mf_nav_icon button-input" 	nav="0"><div	class="mf_inp_phrase"></div></div><div class="mf_nav_sep"></div><div		class="mf_nav_icon button-prev"		nav="-1"></div><div class="mf_nav_sep"></div><div		class="mf_nav_icon button-next"		nav="1"	></div><div class="mf_nav_sep"></div><div		class="mf_nav_icon button-max"				></div><div class="mf_nav_sep"></div><div		class="mf_nav_icon button-onoff"	nav="0"	></div><div class="mf_nav_sep"></div><div		class="mf_nav_icon button-close"			></div></div>')},_init:function(a){e&&h("@@@ BAR._init( "+a+" )"),this.$layer_bar=this.$element,this.$navi_icons=this.$element.find(".mf_nav_icon"),this.$onoff_btn=this.$element.find(".mf_nav_icon.button-onoff"),this.$phrase_input=this.$element.find(".mf_inp_phrase").eq(0),j&&!j.CSS_TRANSFORM&&this.$navi_icons.each(function(a,c){var d,e=b(c);e.hasClass("button-input")||(d=e.hasClass("button-max")?" button-max_owner":"",e.wrap(b('<div class="mf_nav_icon_owner'+d+'"></div>')))}),this.setMode(a),this.$element.data("MFLayerBar",this)},enabled:!0,destroy:function(){this.$layer_bar&&this.$layer_bar.remove()},BAR:this,NAVI:null,Message:null,noElement:!1,$layer_bar:null,$navi_ifr:null,$onoff_btn:null,_phrase:"",getPhrase:function(){return this._phrase},setPhrase:function(a){this._phrase=a||"",this.$phrase_input.text(a||" ")},_mode:"",getMode:function(){return this._mode},setMode:function(a){switch(e&&h("@@@ BAR.setMode( "+a+" )"),this._mode=a,a){case"navi":this.setBarType("full");break;case"frame":break;case"full":this.setBarType("full");break;case"result":this.setBarType("result")}},isResult:function(){return"result"==this.getMode()},isFrame:function(){return"frame"==this.getMode()},isNavi:function(){return"navi"==this.getMode()},isFull:function(){return"full"==this.getMode()},setBarType:function(a){"full"==a?(this.$layer_bar.removeClass("mf_nav_result").addClass("mf_nav_full"),k.IE5_QUIRKS&&this.$layer_bar.find("div").removeClass("mf_nav_result").addClass("mf_nav_full")):"result"==a?(this.$layer_bar.removeClass("mf_nav_full").addClass("mf_nav_result"),k.IE5_QUIRKS&&this.$layer_bar.find("div").removeClass("mf_nav_full").addClass("mf_nav_result")):e&&f("unknown bar type: "+a)},_status:0,_status2str:["disabled","limited","unmarked","enabled"],getStatus:function(){return this._status},getStatusStr:function(){return this._status2str[this._status]},setStatus:function(a){a=isNaN(a)?b.inArray(a,this._status2str):a,-1!=a&&(this._status=a)},cmpStatus:function(a){return this._status-b.inArray(a,this._status2str)},_hiddenInfo:"",getHiddenInfo:function(){return this._hiddenInfo},setHiddenInfo:function(a){this._hiddenInfo=a,this.$layer_bar&&this.$layer_bar.find(".button-input").attr("title",a)},fMarked:!0,toggleMark:function(){e&&i("@@@ BAR.toggleMark()");var a=this.fMarked=!this.fMarked;return this.NAVI&&(this.NAVI.enabled=a),this.enable_mark(a),this.mark_phrase_button(a),a},setup:function(a){this.classNameBar="mf_"+c.THEME.NAVIGATION_BAR_TYPE,this.setupDOM(a||b("body")),this.setuped=!0,this.lock_navi(!0),this.lock_navi(!1)},setupDOM:function(c){var k=this;k.$layer_bar.addClass(k.classNameBar),a.PIE&&!k.noElement&&(a.PIE.attach(k.$layer_bar.get(0)),i("@ PIE attached: .mf_navigation-bar")),k.$layer_bar.prependTo(c),"complete"==document.readyState?k.adjustPosition():b(window).bind("load",function(){k.adjustPosition()}),this.$phrase_input.length&&(this.$phrase_input.get(0).onselectstart=this.$layer_bar.get(0).onselectstart=function(){return!1}),this.procEnterLeave=function(a){e&&g("@@@@ BAR.LAY.procEnterLeave( %s )",a.type),k.lock_navi.call(k,"mouseenter"==a.type),k.LAY&&k.LAY.procEnterLeave.call(k.LAY,a)},this.$layer_bar.on("mouseenter mouseleave",null,this.procEnterLeave),this.$layer_bar.on("mousemove",null,function(a){a.stopPropagation()}),this.procBarButton=function(a){var c=b(this);if(c.hasClass("enabled")||c.parent().hasClass("enabled")){var g=k.NAVI,i=k.OWNER,l=i&&i.OWNER,m=k.Message,n=k.getMode(),o=c.attr("class").replace(/^.*?button-([\w]+).*$/,"$1");switch(a.type){case"click":switch(o){case"onoff":e&&h(" ★ on/off.... @ "+n),k.isResult()||k.isFull()?m.post({"toggle-mark":k.toggleMark()}):k.toggleMark();break;case"prev":case"next":e&&h(" ★ "+o+"....");var p=parseInt(c.attr("nav"));g&&g.navigate_dir(p),m&&m.post({dir:p});break;case"max":k.isFrame()?e&&f("〓〓 Invalid mode: ("+n+") for maximize."):k.isResult()?(e&&h(" ★ maximize...."),k.maximize.call(k),l&&l.maximize.call(l),m&&m.post({maximize:!0})):k.isFull()&&e&&f("〓〓 Invalid mode: ("+n+") for maximize.");break;case"close":k.isNavi()?(e&&h(" ★ exit... exit navigation.."),k.exit(!0)):k.isFrame()||k.isResult()?(e&&h(" ★ close... close result-frame and return to result-view."),k.close.call(k),m&&m.post({close:!0}),l&&l.close.call(l)):k.isFull()&&(e&&h(" ★ exit... exit full-result-view and browse docurl."),k.exit(!1),m&&m.post({exit:!0}),l&&l.exit.call(l));break;case"input":}return!1;case"dragstart":case"dblclick":return window.getSelection&&window.getSelection().removeAllRanges(),a.stopPropagation(),a.preventDefault(),!1;case"mousedown":if("input"==o)return a.preventDefault(),!1;if(!j||j.CSS_TRANSFORM){var q,r=["left","center","right"],s=["top","center","bottom"],t=c.offset(),u=a.offsetX===d?a.pageX-t.left:a.offsetX,v=a.offsetY===d?a.pageY-t.top:a.offsetY;u=parseInt(u/(this.clientWidth-1)*3),v=parseInt(v/(this.clientHeight-1)*3),q="press-"+(1!=u?r[u]:s[v]),e&&h(" @ class: "+q),c.addClass(q)}else c.css({zoom:.9,margin:"2px 0 0 3px"});break;case"mouseup":case"mouseleave":"input"!=o&&(!j||j.CSS_TRANSFORM?c.removeClass("press-left press-right press-top press-bottom press-center"):c.css({zoom:1,margin:0}))}}},this.$layer_bar.on("mousedown mouseup mouseleave click dblclick dragstart",".button-input,.button-next,.button-prev,.button-max,.button-close,.button-onoff",this.procBarButton),this.procKeyNavigation=function(a){var b=a.keyCode,c=(k.NAVI,k.OWNER),d=c&&c.OWNER,f=k.Message;switch(b){case m.ESC:a.stopPropagation(),a.preventDefault(),k.isResult()?(e&&h(" @ close... close result-frame."),d&&d.close.call(d)):k.isFull()&&(e&&h(" ★ exit... exit full-result-view and browse docurl."),k.exit(!1),d&&d.exit.call(d));break;case m.TAB:(k.isResult()||k.isFull())&&(a.stopPropagation(),a.preventDefault(),f&&f.post({dir:b==m.L||b==m.TAB&&a.shiftKey?-1:1}));break;case m.BS:a.stopPropagation(),a.preventDefault(),f&&f.post("close",!0),d&&d.close()}}},setupPhrase:function(a){return this.setPhrase(a),this.NAVI&&this.NAVI.setupPhrase(a)},$avoidTarget:null,getNaviPosition:function(d){if(a.IS_TOP||!this.isFrame()&&!this.isFull()){e&&h("@@@ BAR.getNaviPosition( "+d+" ) in "+(a.IS_TOP?"TOP WINDOW ▼":"RESULT FRAME ▲"));var f=this,g=c.RESULT_FRAME_MARGIN,j=g,k=null;if(c.NAVIGATION_BAR_AVOID&&(f.isNavi()&&c.NAVIGATION_BAR_AVOID_NAVI||f.isFrame()||f.isFull()&&c.NAVIGATION_BAR_AVOID_FULL||f.isResult()&&c.NAVIGATION_BAR_AVOID_RESULT)){var l,m;if(d?(l=b(c.NAVIGATION_BAR_AVOID.join(",")),e&&h("  @ AVOID target: "+l.length),l.length||(l=null)):l=f.$avoidTarget,l){if("complete"!=document.readyState)return b(document).bind("readystatechange",function(){"complete"==document.readyState&&f.getNaviPosition(d)}),null;if(l.length>1){var n=[],o={};l.each(function(a,b){b=l.eq(a),m=b.position().top+b.height(),150>m&&(n.push(m),o[m]=b)}),n.reverse(),m=n[0],l=o[m]}else m=l.position().top+l.height(),150>m||(m=null);if(m){var p=c.NAVIGATION_BAR_AVOID_FOLLOW?b("body").scrollTop()||b("html").scrollTop():0;k=m-p,0>k&&(k=0),k+=2,e&&i("  @ AVOID top: "+k)}}f.$avoidTarget=null===k?null:l}return null===k&&(f.isNavi()?k=c.NAVIGATION_BAR_TOP_NAVI:f.isFull()?k=c.NAVIGATION_BAR_TOP_FULL:f.isResult()&&(k=c.NAVIGATION_BAR_TOP_RESULT)),e&&i("@@@    ... right, top = "+j+", "+k),{right:j,top:k}}},adjustPosition:function(b,c,f){var g=this;return g.isFrame()?null:(e&&h((a.IS_TOP?"▼":"▲")+" @@ BAR.adjustPosition( "+(b?"top: "+b.top:null)+", "+(c?!0:!1)+", "+(f?!0:!1)+" )"),g.fLocked&&!f?(g.onUnlock=function(){g.Message?g.Message.post("request-navigation-position"):g.adjustPosition.call(g,null,!0,!0)},null):(b=b||g.getNaviPosition(c))?(b.right==d||g.$layer_bar.css("right",parseInt(b.right)+"px"),b.top==d||g.$layer_bar.css("top",parseInt(b.top)+"px"),b.left==d||g.$layer_bar.css("left",parseInt(b.left)+"px"),b.bottom==d||g.$layer_bar.css("bottom",parseInt(b.bottom)+"px"),g.LAY&&g.LAY.adjustPosition(),b):null)},setuped:!1,reset:function(){e&&h("@@@ BAR.reset()")},open:function(){e&&g("  @ BAR.open()");var a=this;this.tiClosing&&(clearTimeout(this.tiClosing),this.tiClosing=null),this.fClosed=!1,this.setMode("result"),this.adjustPosition(),this.setDisabled(),this.show(),this.lock_navi(!1),this.show_navi(!0),this.enabled=!0,a.isNavi()||b(document).bind("keydown",a.procKeyNavigation)},fClosed:!0,tiClosing:null,onClose:null,duration_closing:500,close:function(){e&&g("  @ BAR.close()");var a=this;if(!this.tiClosing&&!this.fClosed){this.hide();var d=c.RESULT_FRAME_MARGIN;a.adjustPosition({top:d,right:d},!1,!0),this.tiClosing=setTimeout(function(){a.onClose&&a.onClose.call(a),a.setMode(""),a.setDisabled(),a.setHiddenInfo(""),a.isNavi()||b(document).unbind("keydown",a.procKeyNavigation),a.tiClosing=null,a.fClosed=!0},this.duration_closing)}},onMaximize:null,maximize:function(){e&&g("  @ BAR.maximize()"),this.setMode("full"),this.setByStatus(),this.onMaximize&&this.onMaximize.call(this)},done:function(){e&&i("@@@ BAR.done()"),this.setLimited()},onExit:null,exit:function(a){e&&h("@@@ BAR.exit( "+a+" ) !!!"),this.enabled=!1,this.enable_mark(!1);var b=this.NAVI;b&&b.exit(a),this.hide(),a&&(clearTimeout(this.tiLockNavi),clearTimeout(this.tiHideNavi),this.isResult()||this.$layer_bar.off("mouseenter mouseleave",null,this.procEnterLeave),this.$layer_bar.off("mousedown mouseup mouseleave click dblclick dragstart",".button-input,.button-next,.button-prev,.button-max,.button-close,.button-onoff",this.procBarButton),this.$layer_bar.remove()),this.onExit&&this.onExit.call(this)},fShow:!1,show:function(){if(!this.fShow){e&&i("@@@ BAR.show()"),this.fShow=!0;var a=this.$layer_bar;!j||j.CSS_TRANSITION?a.removeClass("mf_hidden"):k.PIE_IE678?a.removeClass("mf_hidden").show():(clearTimeout(this.tiHide),a.removeClass("mf_hidden").hide().fadeIn(500))}},tiHide:null,hide:function(){if(this.fShow){e&&i("@@@ BAR.hide()"),this.fShow=!1;var a=this.$layer_bar;!j||j.CSS_TRANSITION?a.addClass("mf_hidden"):k.PIE_IE678?a.addClass("mf_hidden").hide():(a.fadeOut(500),this.tiHide=setTimeout(function(){a.addClass("mf_hidden")},500))}},setByStatus:function(){var a=this.getStatusStr();this["set"+a.replace(/^(.)/,function(a){return a.toUpperCase()})]()},setEnabled:function(){return e&&i("  @ setEnabled()"),l&&this.isResult()?(this.setLimited(),void this.setStatus("enabled")):(this.setStatus("enabled"),this.$layer_bar.removeClass("enabled unmarked limited disabled").addClass("enabled"),this.$navi_icons.removeClass("enabled press-left press-right press-top press-bottom press-center"),this.$layer_bar.find(".button-next,.button-prev,.button-max,.button-close,.button-onoff").addClass("enabled"),void this.$layer_bar.find(".button-onoff").removeClass("mf_off"))},setUnmarked:function(){return e&&i("  @ setUnmarked()"),l&&this.isResult()?(this.setLimited(),void this.setStatus("unmarked")):(this.setStatus("unmarked"),this.$layer_bar.removeClass("enabled unmarked limited disabled").addClass("unmarked"),this.$navi_icons.removeClass("enabled press-left press-right press-top press-bottom press-center"),this.$layer_bar.find(".button-max,.button-onoff,.button-close").addClass("enabled"),void this.$layer_bar.find(".button-onoff").addClass("mf_off"))},setLimited:function(){e&&i("  @ setLimited()"),this.setStatus("limited"),this.$layer_bar.removeClass("enabled unmarked limited disabled").addClass("limited"),this.$navi_icons.removeClass("enabled press-left press-right press-top press-bottom press-center"),this.$layer_bar.find(".button-max,.button-close").addClass("enabled"),this.$layer_bar.find(".button-onoff").removeClass("enabled").addClass("mf_off")},setDisabled:function(){e&&i("  @ setDisabled()"),this.setStatus("disabled"),this.$layer_bar.removeClass("enabled unmarked limited disabled").addClass("disabled"),this.$navi_icons.removeClass("enabled press-left press-right press-top press-bottom press-center"),this.$layer_bar.find(".button-onoff").removeClass("enabled").addClass("mf_off")},tiHideNavi:null,show_navi:function(a,b){a=a||0==arguments.length,e&&h("@@@ BAR.show_navi ("+a+")");var d=this;if(d.enabled)if(a)clearTimeout(d.tiHideNavi),d.show(),d.isResult()||d.isFull()||(d.tiHideNavi=setTimeout(function(){e&&h("@ @ BAR.auto hide navi..."),d.show_navi.call(d,!1)},c.NAVI_HIDE_WAIT));else{if(d.fLocked&&!b)return void(e&&h("@ @ BAR.locked navi..."));b&&(d.fLocked=!1,clearTimeout(d.tiLockNavi)),clearTimeout(d.tiHideNavi),d.hide()}},onUnlock:null,fLocked:!1,tiLockNavi:null,lock_navi:function(a,b){a=a||0==arguments.length,b=b||0,e&&h("@@@ BAR.lock_navi ("+a+", "+b+")");var d=this;d.fLocked=a,a?(clearTimeout(d.tiHideNavi),b&&(clearTimeout(d.tiLockNavi),d.tiLockNavi=setTimeout(function(){e&&h("@@@ BAR.auto unlock navi..."),d.lock_navi.call(d,!1)},b))):(e&&h("@@@ BAR.unlock_navi"),d.onUnlock&&d.onUnlock.call(d),d.isResult()||d.isFull()||(d.tiHideNavi=setTimeout(function(){e&&h("@@@ BAR.auto hide navi..."),d.show_navi.call(d,!1)},c.NAVI_HIDE_WAIT)))},mark_phrase_button:function(a){a=a||0==arguments.length,e&&h("@@@ BAR.mark_phrase_button ( "+a+" )"),a?this.setEnabled():this.setUnmarked()},enable_mark:function(a){a=a||0==arguments.length,e&&h("@@@ BAR.enable_mark ("+a+")"),this.NAVI&&this.NAVI.mark_phrase(a)},"":""}}}(window.GALFSRAM2),function(a,b,c,d){if(a&&(b=a.jQuery)&&(c=a.Conf)){var e=128&a.DEBUG,f=(a.error,a.err,a.warn),g=a.log,h=a.info,i=(a.debug,a.IE),j=a.browser,k=(j.IE_IS8,j.IE_IS9,a.postError),l=(a.strip_hash,a.strip_query,a.add_query),m=a.normalize_url,n=a.get_origin,o=a.Conf.CONTENT_SERVER_URL||"//c.marsflag.com/",p=a.Conf.PDFVIEWER_URL||"//c.marsflag.com/mf/pdf/";MFLayerFG=function(a){this.$element=this._create(a),this._init()},MFLayerFG.prototype={$element:null,OWNER:null,_create:function(a){return e&&g("@@@ FG._create( "+a+" )"),this.layer_capture_num=a,b('<div        id="mf_layer_fg"><iframe id="mf_view_ifr" name="mf_view_ifr" border="0" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true"></iframe><img class="mf_layer_cap" /><img    id="mf_loading" /></div>')},_init:function(){if(this.$layer_fg=this.$element,this.$cap_images=this.$element.find(".mf_layer_cap"),this.layer_capture_num>1){for(var a=0;a<this.layer_capture_num-1;a++)this.$cap_images.after(this.$cap_images.clone());this.$cap_images=this.$element.find(".mf_layer_cap")}this._active_capture_idx=-1,this.$view_ifr=this.$element.find("#mf_view_ifr");var c=this;this.$element.data("MFLayerFG",c),this.$view_ifr.data("MFLayerFG",c);var d=0;this.$cap_images.each(function(){b(this).data("MFLayerFG",c).attr("idx",d++)})},destroy:function(){this.$view_ifr.off("load readystatechange",this.view_ifr_load),this.$cap_images.off("load readystatechange error",this.layer_cap_load)},Message:null,FG:this,$layer_fg:null,$view_ifr:null,$cap_images:[],$wait_icon:null,layer_capture_num:10,_active_capture_idx:-1,_last_capture_idx:-1,setup:function(a){this.setupDOM(a||b("body")),this.reset(),this.setuped=this.checkResults()},setupDOM:function(a){var d=this;this.$element.appendTo(a),i&&i.CSS_TRANSFORM&&c.BUGPATCH_IE9_IFRAME_SCROLLING&&(this.$view_ifr.addClass("mf_disable_ie9_iframe_scrolling"),g("@@@ BUGPATCH_IE9_IFRAME_SCROLLING")),this.$wait_icon=this.$element.find("#mf_loading").attr("src",c.ICON_LOADING).insertAfter(this.$element),b.css.add(".frame-view #mf_view_ifr{width: "+c.MF_VIEW_IFR_WIDTH+"px}");var h;if(j.IE_LE8)h="filter:progid:DXImageTransform.Microsoft.Matrix(Dx=0,Dy=0,M11="+c.MF_VIEW_IFR_ZOOM+",M22="+c.MF_VIEW_IFR_ZOOM+")";else if(!i||i.CSS_TRANSFORM){var k="transform: scale("+c.MF_VIEW_IFR_ZOOM+")";h="-webkit-"+k+"; -moz-"+k+"; -ms-"+k+"; "+k+"; "}else h="zoom: "+c.MF_VIEW_IFR_ZOOM;b.css.add(".frame-view #mf_view_ifr{"+h+"}"),this.$view_ifr.on("load readystatechange",this.view_ifr_load),this.$cap_images.on("load readystatechange error",this.layer_cap_load),this.procEnterLeave=function(a){e&&f("@@@@ FG.LAY.procEnterLeave( %s )",a.type),d.LAY&&d.LAY.procEnterLeave.call(d.LAY,a)},this.$layer_fg.on("mouseenter mouseleave",null,this.procEnterLeave)},setuped:!1,url_to_docs:{},reset:function(){e&&g("@@@ FG.reset()"),this.url_to_docs={},this.$layer_fg.removeClass("frame_front navi capture_front none_front"),this.$layer_fg.scrollTop(0),this.$cap_images.removeClass("mf_active"),this.$cap_images.each(function(){b(this).attr("src",c.BLANK_IMAGE)}),this.loadedURL="",this.$view_ifr.attr("src",c.BLANK_FRAME);var a=this.$view_ifr.get(0)&&this.$view_ifr.get(0).contentWindow||frames.mf_view_ifr;a.location=c.BLANK_FRAME,this.BAR&&this.BAR.reset()},_busy:!1,tiBusy:null,setBusy:function(a){var b=this;a=a||0==arguments.length,this._busy=a,clearTimeout(this.tiBusy),a?this.tiBusy=setTimeout(function(){b.$wait_icon.stop().fadeIn(500),b.$layer_fg.addClass("mf_busy")},c.BUSY_ICON_WAIT):(b.$wait_icon.stop().fadeOut(500),b.$layer_fg.removeClass("mf_busy"))},unsetBusy:function(){this.setBusy(!1)},isBusy:function(){return this._busy},loadedDoc:"",isLoaded:function(a){return a&&this.loadedDoc==a},tiHideImage:null,delayHideNoActiveImage:function(){var a=this.$cap_images;a.filter(".mf_active").removeClass("mf_hidden"),clearTimeout(this.tiHideImage),this.tiHideImage=setTimeout(function(){a.filter(":not(.mf_active)").addClass("mf_hidden")},1e3)},frameToFront:function(){this.$layer_fg.removeClass("capture_front none_front").addClass("frame_front navi"),this.$layer_fg.scrollTop(0),this.delayHideNoActiveImage()},captureToFront:function(){this.$layer_fg.removeClass("frame_front navi none_front").addClass("capture_front"),this.$cap_images.removeClass("mf_active"),this.getActiveImage().addClass("mf_active"),this.delayHideNoActiveImage(),this.OWNER&&this.OWNER.BAR&&this.OWNER.BAR.setDisabled()},noneToFront:function(){this.$layer_fg.removeClass("frame_front navi capture_front").addClass("none_front"),this.$cap_images.removeClass("mf_active"),this.delayHideNoActiveImage(),this.OWNER&&this.OWNER.BAR&&this.OWNER.BAR.setDisabled()},setActiveImage:function(a){this.$cap_images.removeClass("mf_active"),a.addClass("mf_active"),this._active_capture_idx=a.attr("idx")},getActiveImage:function(){return this.$cap_images.eq(this._active_capture_idx)},findCaptureImage:function(a){var c;return this.$cap_images.each(function(){var d=b(this);return d.data("docinfo")==a?(c=d,!1):void 0}),c},setCaptureImage:function(a,b){b=b||{};var d=this.findCaptureImage(a);if(d){if(e&&h("##### IMG.mf_layer_cap: same image found."),b.loadOnly)return void d.removeAttr("loadOnly");(d.attr("isSuccess")||d.hasClass("mf_failed"))&&(this.setActiveImage(d),d.show(),this.isLoaded(a)||d.hasClass("mf_failed")?this.frameToFront():this.captureToFront())}else{h("##### IMG.mf_layer_cap: load new image.");var f=this.getCaptureImageURL(a);this._last_capture_idx=++this._last_capture_idx%(this.$cap_images.length+1),b.loadOnly||(this._active_capture_idx=this._last_capture_idx),this.$cap_images.eq(this._active_capture_idx).hide().removeClass("mf_failed").removeAttr("isSuccess").removeAttr("completed").attr({src:c.BLANK_IMAGE,loadOnly:b.loadOnly?1:""}).data("docinfo",a).attr("src",f)}},unLoadFrame:function(){var a=this.$view_ifr;this.loadedURL="",a.removeAttr("isSuccess").removeData("docinfo").attr("src",c.BLANK_FRAME);var b=a.clone(!0);try{a.remove()}catch(d){}return this.$view_ifr=b,b.insertBefore(this.$cap_images.eq(0))},setFrameLocation:function(a,b){e&&g("@@@ setFrameLocation( "+a.uri+", "+b+" )");var c=this.getNavigationFrameURL(b,a);this.$view_ifr=this.unLoadFrame(),this.$view_ifr.data("MFLayerFG",this),this.loadedDoc=null;var d=this.$view_ifr.contentWindow||frames.mf_view_ifr;this.Message.setTarget(c,d),this.Message.setSourceOrigin(n(c)),this.$view_ifr.data("docinfo",a).attr("src",location.protocol.match(/^https/)?c.replace(/^http:/,"https:"):c)},loadResultFrame:function(a,b){var c=this.$view_ifr,d=c.data("docinfo")||"";this.$layer_fg.scrollTop(0),d!=a?(this.setFrameLocation(a,b),this.setCaptureImage(a)):this.isLoaded(a)&&c.attr("isSuccess")?(e&&h("@@@ Has been loaded: "+a.uri),this.view_ifr_load.apply(c.get(0)),this.Message.post("mark",!0),this.Message.post("request-info",!0),this.unsetBusy(),this.frameToFront()):e&&h("@@@ Now loading: "+a.uri)},getNavigationFrameSource:function(){var a=this.$view_ifr.data("docinfo"),b=a?this.getPageURL(a):this.$view_ifr.attr("src");return b&&b!=c.BLANK_FRAME?b:null},getNavigationFrameURL:function(a,b){var d=this.getFrameURL(b),e=!(!b.attrs||!b.attrs.pdfinfo_Pages);if(!e&&"function"==typeof c.getNavigationFrameURL)return c.getNavigationFrameURL(a,d);if("function"==typeof c.createNavigationFrameURL)return c.createNavigationFrameURL(a,b,d);if(e)return d+="&V=F&q="+encodeURIComponent(a);var f=d.match(/^.*\?/)&&d.match(/^.*\?[^=]+$/);return c.QUERY_VIEW_FRAME&&!f&&(d=l(d,c.QUERY_VIEW_FRAME),d=l(d,"q="+a)),c.HASH_VIEW_FRAME||f?(d+=(d.match(/#/)?"&":"#")+(c.HASH_VIEW_FRAME||"V=F"),(!c.QUERY_VIEW_FRAME||f)&&(d+="&q="+encodeURIComponent(a)),i&&i.IS8&&(d+="&z="+c.MF_VIEW_IFR_ZOOM)):i&&i.IS8&&(d+="#z="+c.MF_VIEW_IFR_ZOOM),d},getCaptureImageURL:function(a){var b=a.attrs||{},c=!!b.pdfinfo_Pages,d=m(b.uri||a.uri),e=c?"cap_4096":"cap_org";return GALFSRAM.content_server.encode_new(o,d,e)},getFrameURL:function(a){var b=a.attrs||{},c=m(b.uri||a.uri),d=b.pdfinfo_Pages;return d?p+"#url="+encodeURIComponent(c)+"&pages="+d:c},getPageURL:function(a){return m(a.pageuri||a.uri)},setFrameHeight:function(a){a&&this.$view_ifr.css("height",parseInt(a/c.MF_VIEW_IFR_ZOOM)+"px")},view_ifr_load:function(a){if(this.src&&this.src!=c.BLANK_FRAME){var d=a?a.type:"";if("readystatechange"!=d||"complete"==this.readyState){e&&g("@@@ IFRAME#mf_view_ifr onload() "+d);var f=b(this),h=f.data("MFLayerFG");h.$view_ifr=f,h.$cap_images.off("load readystatechange error",h.layer_cap_load);var i=this.src,j=this.contentWindow||frames.mf_view_ifr;h.Message.setTarget(i,j),h.Message.setSourceOrigin(n(i)),f.attr("isSuccess",1),h.loadedDoc=f.attr("docinfo"),h.unsetBusy.call(h);var k=h.OWNER;k&&k.boyon2&&k.boyon2();var l=k&&k.BAR;h.frameToFront(),l&&l.cmpStatus("limited")<0&&l.setLimited()}}},layer_cap_load:function(d){if(this.src&&this.src!=c.BLANK_IMAGE&&this.src!=c.FAILED_IMAGE){var h;d?d.type:"";if("error"==d.type)h=!1;else if(this.readyState){if("complete"!=this.readyState)return;h=!0}else h=this.complete;0===this.naturalHeight&&(h=!1);var i=b(this);if(!i.attr("completed")){i.attr("completed",1);var j=i.data("MFLayerFG"),l=i.attr("loadOnly");i.removeAttr("loadOnly");var m=i.data("docinfo");if(h){if(e&&g("  @ IMG.mf_layer_cap ("+i.attr("idx")+") succeed !"),i.attr("isSuccess",1),i.removeClass("mf_failed"),l)return;j.setActiveImage(i),i.show(),j.isLoaded(m)?j.frameToFront():j.captureToFront()}else e&&f(" @@ IMG.mf_layer_cap ("+i.attr("idx")+") was failed !"),i.removeAttr("isSuccess"),i.addClass("mf_failed"),i.attr("src",c.FAILED_IMAGE),l||(i.show(),j.frameToFront()),k&&!a.IS_DEVELOP&&k("Capture not found.",m.uri)}}},checkResults:function(a){var d=this,e=window.env&&env.docs||[];e.length&&b.each(e,function(a,d){var e=b(c.SELECTOR_DOC.replace(/%/g,d.count));e.length&&(d.elem=e[0])});var f=window.env&&env.zdocs||[];return f.length&&b.each(f,function(a,d){var e=b(c.SELECTOR_ZDOC.replace(/%/g,d.count));e.length&&(d.elem=e[0])}),b(e).each(function(a,b){i&&j.ieTrueVer<9&&a>3||a+1>c.PRELOAD_CAP_MAX||setTimeout(function(){d.setCaptureImage(b,{loadOnly:!0})},500*a)}),!0},"":""}}}(window.GALFSRAM2),function(a,b,c,d){if(a&&(b=a.jQuery)&&(c=a.Conf)){var e=64&a.DEBUG;a.IS_LAYER_NOT_CLOSE=!!a.IS_LAYER_NOT_CLOSE;var f=(a.error,a.err),g=a.warn,h=a.log,i=(a.info,a.debug,a.IE),j=(a.KEY,a.add_query);MFLayer=function(){this.$element=this._create(),this._init()},MFLayer.prototype={$element:null,OWNER:null,_create:function(){return b('<div			id="mf_layer" class="mf_hidden"><div		id="mf_layer_bg"></div><div		id="mf_div_return" class="press-owner"><img	id="mf_btn_return" /></div><div		id="mf_overlay" class="mf_hidden"></div></div>')},_init:function(){this.$layer=this.$element,this.$layer_bg=this.$element.find("#mf_layer_bg"),this.$return_div=this.$element.find("#mf_div_return"),this.$return_btn=this.$element.find("#mf_btn_return"),this.$layer_overlay=this.$element.find("#mf_overlay"),this.$element.data("MFLayer",this)},destroy:function(){b(document).unbind("keydown",this.procKeyResultFrame),this.$layer&&this.$layer.remove(),this.$layer_overlay&&this.$layer_overlay.remove()},LAY:this,FG:null,$layer:null,$layer_bg:null,$layer_fg:null,$layer_bar:null,$layer_overlay:null,_mode:"result",getMode:function(){return this._mode},setMode:function(a){this._mode=a},isResult:function(){return"result"==this.getMode()},isFrame:function(){return"frame"==this.getMode()},isFull:function(){return"full"==this.getMode()},setup:function(a){this.setupDOM(a||b("body")),this.setuped=!0,this.reset()},setupFG:function(a){return a.OWNER=this,this.FG=a,this.$layer_fg=a.$element,a.setup(this.$element),a},setupDOM:function(a){var f=this;f.$element.appendTo(a),f.$return_btn.attr("src",c.CIRCLE_RETURN),f.$layer_overlay.addClass(c.OVERLAY_CLASS),f.$layer_overlay.prependTo("body"),i&&i.VER<9&&f.$layer_overlay.append(b('<div class="mf_bg_right"></div>')).append(b('<div class="mf_bg_left"></div>')),this.$element.prependTo(a),f.$layer.bind("mouseleave",function(a){}),f.$layer.bind("click",function(a){e&&h(" @ LAY clicked."),a.stopPropagation()}),f.procReturnButton=function(a){var c=b(this);switch(e&&h("@@@ ReturnButton: "+a.type+" ("+a.offsetX+", "+a.offsetY+")"),a.type){case"click":return e&&h(" @ return clicked."),a.stopPropagation(),f.close(),!1;case"mousedown":if(!i||i.CSS_TRANSFORM){var g,j=["left","center","right"],k=["top","center","bottom"],l=c.offset(),m=a.offsetX===d?a.pageX-l.left:a.offsetX,n=a.offsetY===d?a.pageY-l.top:a.offsetY;m=parseInt(m/(this.clientWidth-1)*3),n=parseInt(n/(this.clientHeight-1)*3),g="press-"+(1!=m?j[m]:k[n]),e&&h(" @ class: "+g),"press-left"==g&&(g="press-center"),c.addClass(g)}else c.css({zoom:.9,margin:"2px 0 0 3px"});break;case"dragstart":a.stopPropagation(),a.preventDefault();case"mouseup":case"mouseleave":c.removeClass("press-left press-right press-top press-bottom press-center")}},f.$return_btn.bind("mousedown mouseup mouseleave click dragstart",f.procReturnButton);var g=0,j=0;f.alive_check=function(a){var b=0;if("mousemove"==a.type){var d=a.screenX,e=a.screenY;b=Math.abs((g-d)*(g-d)-(j-e)*(j-e)),g=d,j=e}else("scroll"==a.type||"focus"==a.type||"mousedown"==a.type)&&(b=c.NAVI_MOUSE_SENS+1);b>c.NAVI_MOUSE_SENS&&(f.fLockAutoClose||f.restartAutoClose());
},b(document).bind("mousemove mousedown scroll focus",f.alive_check)},setuped:!1,reset:function(){e&&h("@@@ LAY.reset()"),this.FG&&this.FG.reset()},show:function(){this.$layer.removeClass("mf_hidden")},hide:function(){this.$layer.addClass("mf_hidden")},boyon2:function(){var a=this;a.$layer.addClass("boyon2"),setTimeout(function(){a.$layer.removeClass("boyon2")},300)},showReturnBtn:function(){this.$return_div.clearQueue().show().transition({left:"-20px"},800,"easeOutQuint")},hideReturnBtn:function(){this.$return_div.clearQueue().transition({left:"-160px"},300,"easeOutQuint",function(){b(this).hide()})},showOverlay:function(){var a=this;setTimeout(function(){!i||i.CSS_TRANSITION||i.IE10?a.$layer_overlay.removeClass("mf_hidden"):a.$layer_overlay.removeClass("mf_hidden")},10)},hideOverlay:function(){var a=this;setTimeout(function(){!i||i.CSS_TRANSITION||i.IE10?a.$layer_overlay.addClass("mf_hidden"):a.$layer_overlay.addClass("mf_hidden")},10)},procEnter:function(a,d){if(e&&g("  @@ LAY.procEnter( %o )",a),this.fLockAutoClose=!0,this.stopAutoClose.call(this),a&&c.START_DELAY){e&&g("▼▼▼");var f=b(a.target).closest(".img_frame, .mf_gui_img_frame");if(!f.length)return!0;this.firedElem=f.get(0),this.firedPos={x:a.clientX,y:a.clientY};var h=this;return this.tiDelayedFire=setTimeout(function(){var a=h.BAR.getPhrase();h.open(a,d)},c.START_DELAY),!1}return!0},procLeave:function(a,d){if(e&&g("  @@ LAY.procLeave( %o )",a),this.fLockAutoClose=!1,this.startAutoClose.call(this),a&&c.START_DELAY)if(c.START_CROSS_DIR){var h,i=b(a.target).closest(".img_frame");if(!i.length||this.firedElem!=i.get(0))return;e&&g("▲▲▲");var j=Math.abs(a.clientX-this.firedPos.x),k=Math.abs(a.clientY-this.firedPos.y),l=i.width(),m=i.height();h=k*l>j*m?"V":"H",e&&f("%c@@@ Crossed %s, dX,dY:(%i, %i), size:(%i, %i) #%s","font-size:18px; color:green",h,j,k,l,m,i.get(0).id),h!=c.START_CROSS_DIR&&clearTimeout(this.tiDelayedFire),this.firedElem=null,this.firedPos=null}else clearTimeout(this.tiDelayedFire)},tiDelayedFire:null,firedElem:null,firedPos:null,fLockAutoClose:!1,procEnterLeave:function(a,b){e&&g("  @@ LAY.procEnterLeave( %o ) / type: %s",a,a.type),"mouseenter"==a.type||"mouseover"==a.type?this.procEnter.call(this,a,b):this.procLeave.call(this,a,b)},startAutoClose:function(){if(c.AUTO_CLOSE_WAIT){var a=this;this.tiAutoClose||(e&&g("   @ Start auto close."),this.tiAutoClose=setTimeout(function(){a.close.call(a)},c.AUTO_CLOSE_WAIT))}},stopAutoClose:function(){c.AUTO_CLOSE_WAIT&&this.tiAutoClose&&(e&&g("   @ Stop auto close."),clearTimeout(this.tiAutoClose),this.tiAutoClose=null)},restartAutoClose:function(){if(c.AUTO_CLOSE_WAIT){var a=this;this.tiAutoClose&&clearTimeout(this.tiAutoClose),this.tiAutoClose=setTimeout(function(){a.close.call(a)},c.AUTO_CLOSE_WAIT)}},onOpen:null,open:function(a,c){e&&g("@@@ LAY.open( "+a+", "+JSON.stringify(c)+" )");var d=this;this.stopAutoClose(),this.tiClosing&&(clearTimeout(this.tiClosing),this.tiClosing=null),this.fClosed=!1,b("html").addClass("frame-view"),this.showOverlay(),this.hideReturnBtn(),this.FG.setBusy(),this.show(),this.BAR.open(a),this.setMode("frame"),this.BAR.adjustPosition.call(this.BAR),this.FG.loadResultFrame(c,a),d.onOpen&&d.onOpen.call(d)},fClosed:!0,tiClosing:null,tiAutoClose:null,onClose:null,duration_closing:800,close:function(){if(!a.IS_LAYER_NOT_CLOSE){e&&g("@@@ LAY.close()");var c=this;this.tiClosing||this.fClosed||(this.hideOverlay(),this.hideReturnBtn(),this.FG.unsetBusy(),this.BAR.close(),this.hide(),this.adjustPosition(),c.onClose&&c.onClose.call(c),this.tiClosing=setTimeout(function(){c.setMode("result"),b("html").removeClass("frame-view full-view"),c.FG.unLoadFrame(),c.tiClosing=null,c.fClosed=!0},this.duration_closing))}},maximize:function(){e&&g("  @ LAY.maximize()"),this.setMode("full"),this.showReturnBtn(),b("html").addClass("full-view").removeClass("frame-view")},exit:function(){e&&f("@@@ LAY.exit() !!!");var a=this.BAR.getPhrase(),b=this.FG.getNavigationFrameSource();return b?(this.hideReturnBtn(),this.FG.setBusy(),b=this.getFullFrameExitURL(a,b),setTimeout(function(){window.top.location=b},500),!0):(e&&f("@@@ Can't get frame source."),this.close(),!1)},getFullFrameExitURL:function(a,b){var d=b.match(/^.*\?/)&&b.match(/^.*\?[^=]+$/);return c.QUERY_FROM_FULL_FRAME&&!d&&(b=j(b,c.QUERY_FROM_FULL_FRAME)),c.HASH_FROM_FULL_FRAME&&b+"#"+c.HASH_FROM_FULL_FRAME,b},getResultURL:function(b,d){var e=-1==d.indexOf(location.protocol);return c.QUERY_FROM_SERP_LINK&&(d=j(d,c.QUERY_FROM_SERP_LINK),d=j(d,"q="+b),e&&(d=j(d,c.PARAM_CHANGE_SSL))),c.HASH_FROM_SERP_LINK&&(d+=-1==d.indexOf("#")?"#":"&",d+=c.HASH_FROM_SERP_LINK,(e||a.DECODE_FAILED)&&(d+="&q="+b),e&&(d+=c.PARAM_CHANGE_SSL)),d},adjustPosition:function(b){if(!this.isFull()){if(!b){var b={},f=c.RESULT_FRAME_MARGIN,g=c.RESULT_FRAME_MARGIN_RIGHT||0,i=this.BAR.$element.position().top+this.BAR.$element.height(),j=this.$layer_overlay.height();b.top=i+f,b.height=j-b.top-f,b.right=g||f}return b.right==d||this.$layer.css("right",parseInt(b.right)+"px"),b.top==d||this.$layer.css("top",parseInt(b.top)+"px"),b.left==d||this.$layer.css("left",parseInt(b.left)+"px"),b.bottom==d||this.$layer.css("bottom",parseInt(b.bottom)+"px"),b.height==d||this.$layer.css("height",parseInt(b.height)+"px"),this.FG.setFrameHeight(b.height),e&&h((a.IS_TOP?"▼":"▲")+" @@ LAY.adjustPosition: top: "+b.top+", right: "+b.right+", height: "+b.height),b}},"":""}}}(window.GALFSRAM2),function(a,b,c){function d(){if(c.MIN_GUI_WIDTH&&c.MIN_GUI_WIDTH>$window.width())return!1;if(a.MF_SERP_INFO.rs){var d=b("#mf_functions_media");if(d.length&&1e3!=d.width())return!1}var e;if(!window.env)return(e=b('#form0 input[name="zoom"]').val())?parseInt(e)?!0:!1:!0;var e=String(env.expand||env.zoom||"")||"number"==typeof env.expand&&String(env.expand)||b('form[action*="search.x"] input[name="expand"],form[action*="search.x"] input[name="zoom"]').val()||b.cookie("expand")||b.cookie("zoom")||"";return e.length?e.match(/^[1t]$/)?!0:!1:!0}function e(a){var c=String(b.cookie("target")||"");return c.length?c.match(/^[1t]$/)?!0:!1:a||!1}function f(){var a,d;for(d=0;d<c.SELECTOR_PHRASE.length&&!(a=l(b(c.SELECTOR_PHRASE[d]).val()));d++);return a}if(a&&(b=a.jQuery)&&(c=a.Conf)){var g=8&a.DEBUG,h=(a.error,a.err,a.warn),i=a.log,j=(a.info,a.debug,a.die),k=(a.IE,b.browser=a.browser),l=a.normalizePhrase;a.modifyCrossBrowser(window,a,b),a.isAllowZoom=d,a.isTargetNew=e,b(function(){function l(a){var c=b(this);if(!c.attr("done")){var d=c.attr("href")||"";d&&!d.match(/^(#|javascript:|mailto:)/i)&&(d=s.getResultURL(r,d),c.attr("href",d))}}function m(a){b(a.frame_elem).addClass("img_frame_focus")}function n(a){b(a.frame_elem).removeClass("img_frame_focus")}if(window.mf_gui_disable||a.disabled)return j("Disabled.");if(a.fatal)return j("Fatal error.");var o=b(window),p=b('meta[http-equiv="Content-Language"]').attr("content")||b('meta[name="lang"]').attr("content")||b("html").attr("lang")||"",q=a.i18n.get();a.i18n.set(p||q||c.DEFAULT_LANG),g&&i("@@@ Content Lang: "+p+" > Client Lang: "+q+" > Default Lang: "+c.DEFAULT_LANG),c.THEME.MARK_FOR_SERP&&b("html").addClass("mf_serp_emphasis"),k.IE&&b("body").append(b('<script type="text/vbscript"></script>'));var r=f();if(r||(r=a.phrase),a.phrase=r,r.length<c.MIN_PHRASE_CHARS)return j("@@@ Too few of characters...");a.MF_SERP_INFO={},window.env&&"object"==typeof env&&"object"==typeof env.docs&&(b(".mf_resultbox").length?a.MF_SERP_INFO.pc=!0:(a.MF_SERP_INFO.$caps=b(c.SELECTOR_ZOOM_GENERAL),a.MF_SERP_INFO.$caps.length?a.MF_SERP_INFO.rs=!0:a.MF_SERP_INFO.$caps=null)),g&&(i("@@@ current_phrase: '"+r+"'"),i("@@@ zoom: "+d()),i("@@@ new target: "+e())),null!==c.ZOOM_DELAY&&"function"==typeof setZoomDelay&&setZoomDelay(c.ZOOM_DELAY);var s=a.LAY=new MFLayer;s.setup();var t=a.FG=new MFLayerFG;s.setupFG(t);var u=a.BAR=new MFLayerBar("result");u.setup(),u.setPhrase(r),u.OWNER=t,s.BAR=u,u.LAY=s,t.LAY=s,g&&a.debug_info&&a.debug_info(),s.close(),window.performance&&performance.navigation&&2==performance.navigation.type&&(g&&h("Browser navigated."),b('input[name="q"]').each(function(){this.value=this.defaultValue||""})),u.setupPhrase(r);var v=a.Message=new MFMessage({target_url:t.$view_ifr.attr("src"),target_window:t.$view_ifr.get(0).contentWindow});v.regist({close:function(){s.close.call(s)},exit:function(){s.exit.call(s)},maximize:function(){s.maximize.call(s)},done:function(){u.done()},total:function(a){a=parseInt(a),u.mark_phrase_button(a?!0:!1),a||u.setLimited(),u.Message.post("info-received",!0)},summary:function(a){u.setHiddenInfo(decodeURIComponent(a).replace(/\+/g," "))},"navigation-position":function(a){u.adjustPosition(a,!1,a&&a.force)},"request-scroll-top":function(){u.Message.post("scroll-top",t.$layer_fg.scrollTop())}}),t.Message=u.Message=v,b(c.SELECTOR_DOC_ALL+","+c.SELECTOR_ZDOC_ALL).on("click","a:not([href^='search.x'])",l),b("body").bind("click",function(a){"frame"==s.getMode()&&(g&&i(" @ body clicked."),a.stopPropagation(),s.close.call(s))}),a.MF_SERP_INFO.rs&&(a.MF_SERP_INFO.$caps.each(function(a){b(this).data("docinfo",env.docs[a])}),a.MF_SERP_INFO.$caps.on({mouseenter:function(a){if(d()){var c=a.target;s.procEnter.call(s,a);var e=b(c).data("docinfo"),g=e.attrs||{};if(g.pdfinfo_Pages){var h,i=window.env&&env.misc;if(i)do{if(h=i.serp&&i.serp.use_muv2,"undefined"!=typeof h)break;if(h=i.contract&&i.contract.use_muv2,"undefined"!=typeof h)break}while(0);if(!h)return}z&&z==c||(z&&z!=c&&s.close.call(s),s.open(f(),e),z=c,s.onClose=function(){z=void 0})}},mouseleave:function(a){s.procLeave.call(s,a)},mousemove:function(a){a.stopPropagation()}}));var w,x={},y=function(a){w||(w=setTimeout(function(){g&&i("  @ (RESULT) procReLayout()");var b=u.getNaviPosition(!a||"scroll"==a.type)||{};return x.right==b.right&&x.top==b.top?void(w=null):(g&&i("  @ (RESULT) curPos.top, right: "+b.top+", "+b.right),u.adjustPosition(b),void(w=null))},k.IE_LE8?166:66))};o.bind("resize scroll",y),y(),u.adjustPosition(null,!0),u.onMaximize=function(){},s.onOpen=function(){},s.onClose=function(){z=null};var z=-1;a.MF_SERP_INFO.rs?(g&&i("%c■■■ SERP Type: marsfinder responsive","font-size:20px; color:red"),d()):a.MF_SERP_INFO.pc&&(g&&i("%c■■■ SERP Type: marsfinder","font-size:20px; color:orange"),window.zoom_mouseover_org=window.zoom_mouseover,window.zoom_mouseover=function(a,b){if(!d())return void zoom_mouseover_org(a,b);var c=b&&b.docinfo||{},e=c.attrs||{},f="zuba_"==String(b.type||b.prefix);if(e.pdfinfo_Pages){var h,j=window.env&&env.misc;if(j)do{if(h=j.serp&&j.serp.use_muv2,"undefined"!=typeof h)break;if(h=j.contract&&j.contract.use_muv2,"undefined"!=typeof h)break}while(0);if(!h)return void zoom_mouseover_org(a,b)}return g&&i("@@@ is_zuba: "+f),f?(z&&z!=b&&n(z),s.close.call(s),z=b,void zoom_mouseover_org(a,b)):(m(b),s.procEnter.call(s,a,c),void(z&&z==b||(s.open(r,c),z=b)))},window.zoom_mouseout_org=window.zoom_mouseout,window.zoom_mouseout=function(a,b){if(!d())return void zoom_mouseout_org(a,b);zoom_mouseout_org(a,b);var c=b&&b.docinfo||{},e="zuba_"==String(b.type||b.prefix);return g&&i("@@@ is_zuba: "+e),e?(z&&z!=b&&n(z),void s.close.call(s)):(s.procLeave.call(s,a,c),void n(b))})}),window.mf_icon_onload=function(a){var c=b(a),d=c.width(),e=c.parent(),f=e.width(),g=e.find(".mf_result_disp_title");g.css("width",f-d-8+"px"),g.hide()}}}(window.GALFSRAM2);
/*! GeniusUI v0.9.9k
 *  MARS FLAG Corporation. All rights reserved.
 *  Build 2019-06-17 06:07:58
*/
!function(a,b){function c(b,c){b=b||navigator.userAgent,c=c||document;var d=b.match(/AppleWebKit\/([\d.]+)/)?parseFloat(RegExp.$1):-1,e=b.match(/Trident\/([\d.]+)/i)?parseFloat(RegExp.$1):-1,f=-1==e&&b.indexOf("compatible")<0&&b.match(/Mozilla.*? (?:rv:|Firefox\/)([\d.]+)/i)?parseFloat(RegExp.$1):-1,g=b.match(/MSIE ([\d.]+)/i)?parseFloat(RegExp.$1):e>-1&&b.match(/rv\:([\d.]+)/)?parseFloat(RegExp.$1):-1,h=g>=7?c.documentMode:-1,i=String(c.compatMode||"").replace(/Compat/,"")||null,j=d&&b.match(/Version\/([\d.]+).*Safari/i)?parseFloat(RegExp.$1):-1,k=b.indexOf("Presto")>-1&&b.match(/Opera(?: Mini)?\/([\d.]+)/)?parseFloat(RegExp.$1):d>-1&&b.match(/OPR\/([\d.]+)/)?parseFloat(RegExp.$1):-1,l=Boolean(b.match(/Android/i)),m=Boolean(b.match(/(?:iPhone|iP[ao]d)/)),n=Boolean(b.match(/Windows Phone/)),o=Boolean(b.match(/BlackBerry/)),p=Boolean(b.match(/Mobile/))||l||m||n||o,q=-1,r={};return-1!=d&&(r.webkit=!0,r.version=d,r.webKitVer=d),-1!=j&&(r.safari=!0,r.version=j),-1!=k&&(r.opera=!0,r.version=k),-1!=f&&(r.mozilla=!0,r.version=f),-1!=g&&(r.msie=!0,r.version=g,r.docMode=h),-1!=q&&(r.msie=!0,r.ieTrueVer=q),-1!=e&&(r.msie=!0,r.tridentVer=e),i&&(r.compatMode=i),l&&(r.android=!0),m&&(r.iphone=!0),n&&(r.winphone=!0),p&&(r.mobile=!0),r.enabled=!n&&!o&&(l||m||!p)&&(d>=537||j>=5.1||k>=13||f>=17||e>=5||h>=5),"function"==typeof a.modBrowser&&a.modBrowser(r,b,c),r}function d(b,c){if(b&&b.length&&!a.fatal){var d=arguments.callee,e=arguments[2]||1;"object"!=typeof b&&(b=[b]);for(var f;!(f=b.shift());)if(!b.length)return;if("function"==typeof f)return f(),void d(b,c);f.match(/^(http|\/\/)/)||(f=(c||"")+f);var g=document.createElement("script");g.onerror=function(b){i&&console.error("  on"+(b||window.event).type+": ("+(this.readyState||this.complete||"")+") "+this.src),a.fatal=!0,a.postError&&a.postError("Failed to inject.",this.src),i&&!a.postError&&console.error("# Failed to inject: "+this.src)},g.onreadystatechange=g.onload=function(a){(a&&"load"==a.type||"loaded"==this.readyState||"complete"==this.readyState)&&(this.onreadystatechange=this.onload=function(){},i&&console.info("# Injected ("+e+"): "+f),b.length&&d(b,c,e+1))},g.type="text/javascript",g.charset="UTF-8",g.async=!0,g.src=f;var h=document.documentElement,j=document.getElementsByTagName("head");(document.head||h.children[0]||j[0]||h).appendChild(g)}}function e(b,c){if(b&&b.length){var d=arguments[2]||1;"object"!=typeof b&&(b=[b]);for(var e;!(e=b.shift());)if(!b.length)return;e.match(/^(http|\/\/)/)||(e=(c||"")+e);var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.href=e;var g=document.documentElement,h=document.getElementsByTagName("head");(document.head||g.children[0]||h[0]||g).appendChild(f),a.DEBUG&&console.info("# Injected ("+d+"): "+e),b.length&&arguments.callee(b,c,d+1)}}function f(b){if(a.disabled=!0,a.DEBUG)console.error("die: "+(b||"")+"\n  url: "+location.href);else try{delete window.GALFSRAM2}catch(c){}return!1}function g(a){var b=window.console,c=function(){};b||(b=window.console={},a=9),(a>0||!b.trace)&&(b.trace=c),(a>1||!b.debug)&&(b.debug=c),(a>2||!b.info)&&(b.info=c),(a>3||!b.log)&&(b.log=c),(a>4||!b.warn)&&(b.warn=c),(a>5||!b.error)&&(b.error=c)}if(!a.gui_loaded&&(a.gui_loaded=!0,location.protocol.match(/^https?/))){if(window.mf_gui_disable)return f("mf_gui_disable was set.");var h=String(document.cookie);if(h.match(/mf_gui_disable=true/))return f("cookie: mf_gui_disable found.");a.DEBUG=h.match(/mf_debug=(\d+)?\b/)?RegExp.$1:0,a.LOG_LEVEL=h.match(/mf_log_level=(\d+)?\b/)?RegExp.$1:9,a.IS_DEVELOP=a.IS_DEVELOP||(h.match(/mf_gui_dev=(\d+)?\b/)?RegExp.$1:0),a.LOG_LEVEL=0,(a.IS_DEVELOP||a.DEBUG)&&(a.LOG_LEVEL=0),!(16384&a.DEBUG)&&top==window&&(a.DEBUG=0),!(32768&a.DEBUG)&&top!=window&&(a.DEBUG=0);var i=2&a.DEBUG;a.SHOW_ERROR=!0,a.getBrowser=c,a.injectScript=d,a.injectStyle=e,a.setLogLevel=g,a.die=f,a.MIN_PHRASE_CHARS=0,g(a.LOG_LEVEL),window.onerror=function(){return!a.SHOW_ERROR};var j=a.browser=c();if(i&&console.log("@@@ browser:",j),!j.enabled)return f("browser not supported.");if(j.msie&&j.ieTrueVer<8)return f("browser version IE < 8 not supported.");if(j.msie&&5==j.docMode&&"Back"==j.compatMode)return f("IE5 QUIRKS mode! Terminated.");var k,l=location.protocol+"//",m=location.href,n=document.referrer;a.IS_DEVELOP&&(a._LOCATION!==b&&(m=a._LOCATION),a._REFERRER!==b&&(n=a._REFERRER),a._MODE!==b&&(k=a._MODE)),a.IS_SSL=0===m.indexOf("https:"),m.match(/^[^#]*?#(?=.*\br=s\b)(?=.*\bq=[^&]+)/)&&(n=(a.IS_SSL?"http:":"https:")+"//MARSFLAG.COM/search.x?"+m.replace(/^[^#]+?#(.*)$/,"$1")),a.PROTOCOL=l,a.LOCATION=m,a.REFERRER=n,i&&console.info("@@@ _location: "+m),i&&console.info("@@@ _referrer: "+n);var o="",p={},q="";if(a.baseHref&&a.hashParams?(o=a.baseHref,p=a.hashParams):function(){var b=document.getElementsByTagName("script"),c=b[b.length-1].src,d=c.replace(/^.*?(#|$)/,"");if(!d){for(var e,f=0;f<b.length;f++)if("mf_gui_script"==b[f].id){e=b[f];break}e&&(c=e.src,d=c.replace(/^.*?(#|$)/,""))}if(o=c.replace(/[?#].*?$/,"").replace(/[^\/]+$/,""),o=o.replace(/^(https?:\/\/[^\/]+\/)\//,"$1"),d){d=d.split("&");for(var g,h=0;h<d.length;h++)g=d[h].split("="),p[g[0]]=g[1]||"";i&&console.log("@ hash: "+d)}a.baseHref=o,a.hashParams=p}(),a.cid=q=p.cid||String(p.unit||"").replace(/__.*$/,"")||window.mf_cid||a.isPDF&&"s",o&&i&&console.log("@ baseHref: "+o),q&&i&&console.info("@ cid: "+q),!function(){var b,c;if(a.isPDF);else if(a.forceMode);else if(m.match(/^[^?#]+\bsearch\.x/)){if(b=m.match(/^[^?#]+\?.*?(?:q|phrase)=([^&]*)/),c=b&&b[1]||"",!b||c.length<a.MIN_PHRASE_CHARS,c)try{c=decodeURIComponent(c)}catch(d){a.DECODE_FAILED=!0}}else if(String(n).match(/\?.*?\b(q|p|phrase|search|key|kw|wd|(?:key)?word|mt)=([^&]+)/i)){c=RegExp.$2;try{c=decodeURIComponent(c)}catch(d){a.DECODE_FAILED=!0,c=RegExp.$2}if(c.length<a.MIN_PHRASE_CHARS)return f("too few characters.")&&!1}else if(!m.match(/[#\?]/))return f("this page is not serp, and search query was not found from referrer.")&&!1;return!0}())return!1;if(a.ERROR_POST_URL=o+"e.gif",!q)return f("@@@ no params: cid= or unit=.");var r=[],s=null;a.IS_DEVELOP?(a.isPDF||(r.push("//s3-us-west-2.amazonaws.com/s3.marsflag.com/lib/js/md5.js"),r.push("//s3-us-west-2.amazonaws.com/s3.marsflag.com/mf/cs.js")),r.push("js/mf_gui_sub.js"),r.push("conf/config-default.js"),r.push("conf/customer/config-"+q+".js"),r.push(s),r.push("js/startup.js")):(a.isPDF||(r.push("//c.marsflag.com/lib/js/md5.min.js"),r.push("//c.marsflag.com/mf/cs.js")),r.push("js/customer/gui-"+q+".js")),i&&console.info("@ scriptList: \n	"+(r.join?r.join("\n	"):r)),d(r,o)}}(window.GALFSRAM2=window.GALFSRAM2||{});